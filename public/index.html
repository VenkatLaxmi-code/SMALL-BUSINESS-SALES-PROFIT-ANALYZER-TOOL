<!DOCTYPE html>
<html>

<head>
    <title>InkNest Stationery</title>

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="box">
        <h2>InkNest Stationery Management System</h2>

        <p>Login to your account</p>

        <input id="email" type="email" placeholder="Enter Email">
        <input id="password" type="password" placeholder="Enter Password">

        <button onclick="login()">Login</button>

        <p>Don't have an account?
            <a href="register.html">Register</a>
        </p>
    </div>

    <script>
        function login() {
            fetch("http://localhost:5000/login", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    email: email.value,
                    password: password.value
                })
            })
                .then(r => r.json())
                .then(d => {
                    if (d.token) {
                        localStorage.setItem("token", d.token);
                        localStorage.setItem("role", d.role);
                        window.location = "dashboard.html";
                    } else {
                        alert(d.msg);
                    }
                });
        }
    </script>

</body>

</html>